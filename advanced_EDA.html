<!DOCTYPE html>
<html>
<head>
  <title>Advanced EDA with R</title>
  <meta charset="utf-8">
  <meta name="description" content="Advanced EDA with R">
  <meta name="author" content="Johnson Hsieh and Ben Chen">
  <meta name="generator" content="slidify" />
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta http-equiv="X-UA-Compatible" content="chrome=1">
  <link rel="stylesheet" href="libraries/frameworks/io2012-dsp/css/default.css" media="all" >
  <link rel="stylesheet" href="libraries/frameworks/io2012-dsp/css/phone.css" 
    media="only screen and (max-device-width: 480px)" >
  <link rel="stylesheet" href="libraries/frameworks/io2012-dsp/css/slidify.css" >
  <link rel="stylesheet" href="libraries/highlighters/highlight.js/css/zenburn.css" />
  <base target="_blank"> <!-- This amazingness opens all links in a new tab. -->  <link rel=stylesheet href="./assets/css/dsp.css"></link>
<link rel=stylesheet href="./assets/css/ribbons.css"></link>

  
  <!-- Grab CDN jQuery, fall back to local if offline -->
  <script src="libraries/frameworks/io2012-dsp/js/jquery-1.7.min.js"></script>
  <!-- <script>window.jQuery || document.write('<script src="libraries/widgets/quiz/js/jquery.js"><\/script>')</script> -->
  <script data-main="libraries/frameworks/io2012-dsp/js/slides" 
    src="libraries/frameworks/io2012-dsp/js/require-1.0.8.min.js">
  </script>
  
  

</head>
<body style="opacity: 0">
  <slides class="layout-widescreen">
    
    <!-- LOGO SLIDE -->
        <slide class="title-slide segue nobackground">
  <hgroup class="auto-fadein">
    <h1>Advanced EDA with R</h1>
    <h2>Data Visualization with ggplot</h2>
    <p>Johnson Hsieh and Ben Chen<br/></p>
  </hgroup>
  <article></article>  
</slide>
    

    <!-- SLIDES -->
    <slide class="" id="slide-1" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>先載入會用到的套件</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">library(data.table) # data ETL
library(dplyr)      # data ETL
library(knitr)      # dynamic report generation, RMarkdown
library(ggplot2)    # data Viz
library(scales)     # show percent labels in ggplot2
library(GGally)     # extension to ggplot2
library(ggmap)      # extension to ggplot2
library(geosphere)  # distance between two location (lon, lat)
library(reshape2)   # long and wide format
library(ggdendro)   # plot dendrograms and tree
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-2" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>一切先從讀檔開始</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ubike &lt;- fread(&quot;data/ubikebyhourutf8/ubike-hour-201502-utf8.csv&quot;, 
               data.table = FALSE,
              colClasses=c(&quot;factor&quot;,&quot;integer&quot;,&quot;integer&quot;,&quot;factor&quot;,&quot;factor&quot;,&quot;numeric&quot;,
                &quot;numeric&quot;,&quot;integer&quot;,&quot;numeric&quot;,&quot;integer&quot;,&quot;integer&quot;,&quot;numeric&quot;,
                &quot;numeric&quot;,&quot;integer&quot;,&quot;integer&quot;,&quot;numeric&quot;,&quot;numeric&quot;,&quot;numeric&quot;,
                &quot;numeric&quot;,&quot;numeric&quot;,&quot;numeric&quot;))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="dark segue" id="slide-3" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>訂定主題</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-4" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>探索性資料分析 — 以YouBike為例</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>專案主題：捷運市府站Youbike租借分析</li>
<li>小組成員：Johnson (DSP C.K.O.)</li>
<li>角色扮演：YouBike業者御用資料科學家</li>
<li>研究目的：捷運市府站為規模最大的YouBike場站 (共<strong>180</strong>個停車格)，尖峰時段期間車輛的平均出借變化量達<strong>27</strong>輛，透過該場站與週邊場站租借狀況以及天氣資料的交叉比對，找出使用者行為以提供進一步加值服務的規劃。</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-5" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>規劃流程：</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>訂定主題</li>
<li>資料探索

<ul>
<li>市府站 vs. 天氣</li>
<li>市府站 vs. 週邊場站</li>
<li>探索關鍵因子</li>
</ul></li>
<li>看圖說故事</li>
<li>決策建議</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-6" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>整理一下資料</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ubike1 &lt;- filter(ubike, sno==1) %&gt;%
  mutate(sbi.range=max.sbi-min.sbi) %&gt;%
  mutate(is.rushhours=cut(hour, breaks=c(0, 8, 10, 17, 20, 24), 
                          labels = c(0,1,0,1,0), right=FALSE)) %&gt;%
  mutate(is.weekday=ifelse(strftime(date, &quot;%u&quot;) &lt; 6, 1, 0))

tab1 &lt;- filter(ubike1, is.rushhours==1, is.weekday==1) %&gt;% 
  group_by(tot) %&gt;%
  summarise(min(sbi.range), mean(sbi.range), max(sbi.range))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-7" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>市府站車輛數基本數據</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r"># 有車率
df1 &lt;- group_by(ubike1, date, hour) %&gt;%
  summarise(rate.sbi=mean(avg.sbi)/tot) %&gt;%
  group_by(hour) %&gt;%
  summarise(rate.sbi=mean(rate.sbi))

# 設定畫圖的字體
thm &lt;- function() theme(text=element_text(size=20, family=&quot;STHeiti&quot;))
# thm &lt;- function() theme(text=element_text(size=20)) # Windows user

library(scales)
ggplot(df1, aes(x=hour, y=rate.sbi)) +
  geom_bar(stat=&quot;identity&quot;) + 
  ggtitle(&quot;捷運市政府站&quot;) +
  labs(x=&quot;時間&quot;, y=&quot;有車率&quot;) +
  thm() +
  theme(legend.title=element_blank()) + 
  scale_y_continuous(labels = percent)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-8" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>市府站車輛數基本數據</h2>
  </hgroup>
  <article data-timings="">
    
<div style='float:left;width:48%;' class='centered'>
  <p><img src="assets/fig/unnamed-chunk-4-1.png" alt="plot of chunk unnamed-chunk-4"> </p>

</div>
<div style='float:right;width:48%;' class='centered'>
  <p>右圖為捷運市府站每天有車率的變化，大約晚間十點至隔天凌晨兩點間有車率 (當時段平均車輛數 / 總車輛數) 最低，係因此時YouBike公司將車輛回收，於清晨三點左右陸續將車輛補回。由圖可知三點與四點時有車率大幅增加兩次，推測是市府站規模較大需要兩次小貨車補給 (每次約補給30輛車)。在上午七點左右，有車率開始明顯下降，直至上午十點到達低點，即<strong>29%</strong>。之後有車率略微增加，直至下午一點達到當日次高峰。可以發現，下午三點之後有車率再度明顯下降，直至晚間九點。<br><p></p>

</div>
  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-9" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>場站有車率與晴雨關係</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>定義：有車率 (<code>rate.sbi</code>) 為 平均車輛數 / 總停車格數 (<code>avg.sbi/tot</code>)</li>
<li>定義：是否下雨 (<code>is.rain</code>)，當該時段累積雨量大於1mm訂為雨天，反之為晴天
依 日期 (<code>date</code>)、時間 (<code>hour</code>)、是否下雨 (<code>is.rain</code>) 做分組 (<code>group_by</code>) 計算
平均有車率 (<code>rate.sbi = mean(avg.sbi/tot)</code>)，得到下表：</li>
</ul>

<table>
 <thead>
  <tr>
   <th style="text-align:center;"> hour </th>
   <th style="text-align:center;"> is.rain </th>
   <th style="text-align:center;"> rate.sbi </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> 晴天 </td>
   <td style="text-align:center;"> 0.475 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> 雨天 </td>
   <td style="text-align:center;"> 0.534 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 9 </td>
   <td style="text-align:center;"> 晴天 </td>
   <td style="text-align:center;"> 0.311 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 9 </td>
   <td style="text-align:center;"> 雨天 </td>
   <td style="text-align:center;"> 0.437 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;"> 晴天 </td>
   <td style="text-align:center;"> 0.265 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 10 </td>
   <td style="text-align:center;"> 雨天 </td>
   <td style="text-align:center;"> 0.389 </td>
  </tr>
</tbody>
</table>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-10" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <article data-timings="">
    <pre><code class="r">df2 &lt;- filter(ubike, sno==1) %&gt;% 
  mutate(is.rain=rainfall&gt;1) %&gt;%
  mutate(is.rain=factor(is.rain, levels=c(FALSE, TRUE), 
                        labels = c(&quot;晴天&quot;,&quot;雨天&quot;))) %&gt;%
  select(date, hour, tot, avg.sbi, avg.bemp, temp, is.rain) %&gt;%
  group_by(date, hour, is.rain) %&gt;%
  summarise(rate.sbi=mean(avg.sbi)/tot) %&gt;%
  group_by(hour, is.rain) %&gt;%
  summarise(rate.sbi=mean(rate.sbi))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-11" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>長條圖範例</h2>
  </hgroup>
  <article data-timings="">
    <h3>首先用長條圖 (bar chart) 來探索這份報表，當欄位大於二時，將依賴顏色做區隔，一般而言長條圖有以下變型：</h3>

<ul>
<li>Dodge plot</li>
<li>Facet panels</li>
<li>Pyramid (金字塔圖)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-12" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>Dodge Plot</h2>
  </hgroup>
  <article data-timings="">
    <p>Hint: <code>geom_bar(stat=&quot;identity&quot;, position=&quot;dodge&quot;)</code></p>

<pre><code class="r">ggplot(df2, aes(x=hour, y=rate.sbi, fill=is.rain)) +
  geom_bar(stat=&quot;identity&quot;, position=&quot;dodge&quot;) + 
  labs(x=&quot;時間&quot;, y=&quot;有車率&quot;) +
  thm() +
  theme(legend.title=element_blank())
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-13" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>Dodge Plot</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-6-1.png" alt="plot of chunk unnamed-chunk-6"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-14" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>Facet panels</h2>
  </hgroup>
  <article data-timings="">
    <p>Hint: <code>facet_grid(y~.)</code> or <code>facet_grid(.~x)</code></p>

<pre><code class="r">ggplot(df2, aes(x=hour, y=rate.sbi, fill=is.rain)) +
  geom_bar(stat=&quot;identity&quot;, position=&quot;dodge&quot;) + 
  labs(x=&quot;時間&quot;, y=&quot;有車率&quot;) +
  thm() +
  theme(legend.title=element_blank()) + 
  facet_grid(is.rain~.)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-15" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>Facet panels</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-7-1.png" alt="plot of chunk unnamed-chunk-7"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-16" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>Facet panels</h2>
  </hgroup>
  <article data-timings="">
    <p>Hint: <code>facet_grid(y~.)</code> or <code>facet_grid(.~x)</code></p>

<pre><code class="r">ggplot(df2, aes(x=hour, y=rate.sbi, fill=is.rain)) +
  geom_bar(stat=&quot;identity&quot;, position=&quot;dodge&quot;) + 
  labs(x=&quot;時間&quot;, y=&quot;有車率&quot;) +
  thm() +
  theme(legend.title=element_blank()) + 
  facet_grid(.~is.rain)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-17" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>Facet panels</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-9-1.png" alt="plot of chunk unnamed-chunk-9"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-18" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>Pyramid</h2>
  </hgroup>
  <article data-timings="">
    <p>Hint: <code>filter(df2, is.rain==&quot;晴天&quot;)</code>, and <code>coord_flip()</code></p>

<pre><code class="r">ggplot(df2, aes(x=hour,y=rate.sbi, fill=is.rain)) + 
  geom_bar(data=filter(df2, is.rain==&quot;晴天&quot;), stat=&quot;identity&quot;) + 
  geom_bar(aes(y=rate.sbi*(-1)), data=filter(df2, is.rain==&quot;雨天&quot;), 
           stat=&quot;identity&quot;) + 
  scale_y_continuous(breaks=seq(from=-1, to=1, by=0.1), 
                     labels=abs(seq(-1, 1, 0.1))) + 
  labs(x=&quot;時間&quot;, y=&quot;有車率&quot;) +
  theme(legend.title=element_blank()) + 
  coord_flip() + thm() 
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-19" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>Pyramid</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/weather-barchar-5-1.png" alt="plot of chunk weather-barchar-5"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-20" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>熱點圖</h2>
  </hgroup>
  <article data-timings="">
    <h3>熱點圖 (heatmap) 是用顏色深淺呈現數值大小的視覺化。</h3>

<p>Hint: <code>geom_tile()</code></p>

<pre><code class="r">ggplot(df2, aes(x=hour, y=is.rain, fill=rate.sbi)) + 
  geom_tile() +
  scale_fill_gradient(name=&quot;有車率&quot;, low=&quot;white&quot;, high=&quot;midnightblue&quot;) + 
  labs(x=&quot;時間&quot;, y=&quot;天氣&quot;) +
  thm()
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-21" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>熱點圖</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-11-1.png" alt="plot of chunk unnamed-chunk-11"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-22" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>平行座標圖</h2>
  </hgroup>
  <article data-timings="">
    <h3>平行座標圖 (Parallel coordinate plot) 多用於呈現多欄位的資料視覺化，強調欄位的順序性，特別適合用在因果關係的陳述。譬如：行業別 -&gt; 是否上DSP課程 -&gt; 職場表現。</h3>

<p>Hint: <code>library(GGally)</code> and <code>ggparcoord()</code></p>

<pre><code class="r">library(GGally)
df2 &lt;- mutate(df2, rain=as.numeric(is.rain)-1)
ggparcoord(data = iris, columns = 1:4, groupColumn = 5,
           title = &quot;Parallel Coordinate Plot for the Iris Data&quot;) + thm()
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-23" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>平行座標圖</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-12-1.png" alt="plot of chunk unnamed-chunk-12"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-24" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>與鄰近場站的關係</h2>
  </hgroup>
  <article data-timings="">
    <h3>試著探索市府站與鄰近場站的關係，此時需要透過經緯度計算場站與場站之間的距離。透過<code>geosphere</code>套件中的<code>distm</code>函數可以批次計算所有場站之間的兩兩距離，整理得到下表，離捷運市府站最近的場站依序是<strong>台北市政府 (438m)</strong>, <strong>興雅國中 (484m)</strong>...。</h3>

<h3>Hint: <code>library(geosphere)</code>, <code>distm</code>, <code>group_by</code>, <code>distinct</code></h3>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-25" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>與鄰近場站的關係</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">tmp &lt;- group_by(ubike, sno, sna, sarea, lat, lng) %&gt;% distinct 
dist &lt;- round(distm(x=tmp[, c(&quot;lng&quot;,&quot;lat&quot;)])[,1])
df5 &lt;- tmp %&gt;% select(sno, sna, sarea, lat, lng) %&gt;% 
  cbind(dist) %&gt;% arrange(dist) %&gt;% top_n(10, wt = -dist)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-26" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>與鄰近場站的關係</h2>
  </hgroup>
  <article data-timings="">
    <table>
 <thead>
  <tr>
   <th style="text-align:center;"> sno </th>
   <th style="text-align:center;"> sna </th>
   <th style="text-align:center;"> sarea </th>
   <th style="text-align:center;"> lat </th>
   <th style="text-align:center;"> lng </th>
   <th style="text-align:center;"> dist </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 1 </td>
   <td style="text-align:center;"> 捷運市政府站(3號出口) </td>
   <td style="text-align:center;"> 信義區 </td>
   <td style="text-align:center;"> 25.041 </td>
   <td style="text-align:center;"> 121.568 </td>
   <td style="text-align:center;"> 0 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 3 </td>
   <td style="text-align:center;"> 台北市政府 </td>
   <td style="text-align:center;"> 信義區 </td>
   <td style="text-align:center;"> 25.038 </td>
   <td style="text-align:center;"> 121.565 </td>
   <td style="text-align:center;"> 438 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 5 </td>
   <td style="text-align:center;"> 興雅國中 </td>
   <td style="text-align:center;"> 信義區 </td>
   <td style="text-align:center;"> 25.037 </td>
   <td style="text-align:center;"> 121.569 </td>
   <td style="text-align:center;"> 484 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 25 </td>
   <td style="text-align:center;"> 永吉松信路口 </td>
   <td style="text-align:center;"> 信義區 </td>
   <td style="text-align:center;"> 25.045 </td>
   <td style="text-align:center;"> 121.572 </td>
   <td style="text-align:center;"> 659 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 6 </td>
   <td style="text-align:center;"> 世貿二館 </td>
   <td style="text-align:center;"> 信義區 </td>
   <td style="text-align:center;"> 25.035 </td>
   <td style="text-align:center;"> 121.566 </td>
   <td style="text-align:center;"> 718 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 150 </td>
   <td style="text-align:center;"> 松德公園 </td>
   <td style="text-align:center;"> 信義區 </td>
   <td style="text-align:center;"> 25.037 </td>
   <td style="text-align:center;"> 121.573 </td>
   <td style="text-align:center;"> 734 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 138 </td>
   <td style="text-align:center;"> 捷運永春站(2號出口) </td>
   <td style="text-align:center;"> 信義區 </td>
   <td style="text-align:center;"> 25.041 </td>
   <td style="text-align:center;"> 121.575 </td>
   <td style="text-align:center;"> 754 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 8 </td>
   <td style="text-align:center;"> 世貿三館 </td>
   <td style="text-align:center;"> 信義區 </td>
   <td style="text-align:center;"> 25.035 </td>
   <td style="text-align:center;"> 121.564 </td>
   <td style="text-align:center;"> 759 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 113 </td>
   <td style="text-align:center;"> 仁愛逸仙路口 </td>
   <td style="text-align:center;"> 信義區 </td>
   <td style="text-align:center;"> 25.038 </td>
   <td style="text-align:center;"> 121.561 </td>
   <td style="text-align:center;"> 763 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 4 </td>
   <td style="text-align:center;"> 市民廣場 </td>
   <td style="text-align:center;"> 信義區 </td>
   <td style="text-align:center;"> 25.036 </td>
   <td style="text-align:center;"> 121.562 </td>
   <td style="text-align:center;"> 778 </td>
  </tr>
</tbody>
</table>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-27" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>地圖應用範例</h2>
  </hgroup>
  <article data-timings="">
    <h3>利用<code>ggmap</code>套件導入google map作為底圖將場站位置標示出來。</h3>

<p>Hint: <code>library(ggmap)</code>, <code>map &lt;- get_map(&quot;Taipei&quot;); ggmap(map)</code>, <code>geom_point</code>    </p>

<pre><code class="r">library(ggmap)
df5$is.cityhall &lt;- factor(c(1, rep(0, 9)), levels=1:0)
map &lt;- get_map(location=c(lon=df5$lng[1], lat=df5$lat[1]) , zoom = 15)
ggmap(map) + thm() +
  geom_point(data=df5, aes(x=lng, y=lat, colour=is.cityhall), size=5) + 
  geom_text(data=df5, aes(x=lng, y=lat, label=sna, colour=is.cityhall), 
            position=&quot;jitter&quot;, vjust=-1, hjust=0.5, size=4, family=&quot;STHeiti&quot;) + 
  theme(legend.position=&quot;none&quot;) + scale_color_brewer(palette=&quot;Set1&quot;)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-28" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>地圖應用範例</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-14-1.png" alt="plot of chunk unnamed-chunk-14"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-29" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>熱點圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-15-1.png" alt="plot of chunk unnamed-chunk-15"> </p>

<ul>
<li>有車率與使用率的熱點圖可以看到什麼趨勢？</li>
<li>有沒有自動排序的統計方法？</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-30" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>熱點圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <h3>觀察鄰近捷運市府站的10個YouBike場站，每一天 有車率 與 使用率的狀況。以有車率為例，透過觀察可以發現{興雅國中, 台北市政府, 市民廣場, 世貿三館, 世貿二館} 時間分佈有相似的狀況，{永吉松信路口, 松德公園, 捷運永春站} 也有相似的情況，而捷運市府站介於兩群之間，仁愛逸仙路口則是一枝獨秀。</h3>

<ul>
<li>有車率與使用率的熱點圖可以看到什麼趨勢？</li>
<li>有沒有自動排序的統計方法？</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-31" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>熱點圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">tmp1 &lt;- filter(ubike, sno%in%df5$sno) %&gt;%
  mutate(is.rain=rainfall&gt;1) %&gt;%
  mutate(is.rain=factor(is.rain, levels=c(FALSE, TRUE), 
                        labels = c(&quot;晴天&quot;,&quot;雨天&quot;))) %&gt;%
  mutate(is.weekday=strftime(date, &quot;%u&quot;)&lt;6) %&gt;%
  mutate(is.weekday=factor(is.weekday, levels=c(FALSE, TRUE),
                           labels=c(&quot;平日&quot;,&quot;假日&quot;))) %&gt;%
  mutate(is.rushhours=cut(hour, breaks=c(0, 4, 7, 24), right=FALSE)) %&gt;%
  group_by(date, sno, sna, is.weekday, is.rushhours, is.rain, hour, tot) %&gt;%
  summarise(rate.sbi=mean(avg.sbi)/tot, rate.used=mean(max.sbi-min.sbi)/tot)

df6 &lt;- tmp1 %&gt;%
  filter(is.weekday==&quot;平日&quot;, is.rain==&quot;晴天&quot;) %&gt;%
  group_by(sno, sna, sna, hour) %&gt;%
  summarise(rate.sbi=mean(rate.sbi), rate.used=mean(rate.used))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-32" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>熱點圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(df6, aes(x=hour, y=sna, fill=rate.sbi)) + geom_tile() + thm() + 
  theme(legend.position=&quot;bottom&quot;) + 
  scale_fill_gradient(name=&quot;有車率&quot;, low=&quot;white&quot;, high=&quot;lawngreen&quot;) + 
  labs(x=&quot;時間&quot;, y=&quot;&quot;) +
  theme(axis.text = element_text(size = 13, color=&quot;darkgreen&quot;))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-33" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>熱點圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-17-1.png" alt="plot of chunk unnamed-chunk-17"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-34" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>熱點圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">ggplot(df6, aes(x=hour, y=sna, fill=rate.used)) + geom_tile() + thm() + 
  theme(legend.position=&quot;bottom&quot;) + 
  scale_fill_gradient(name=&quot;使用率&quot;, low=&quot;white&quot;, high=&quot;Navy&quot;) + 
  labs(x=&quot;時間&quot;, y=&quot;&quot;) +
  theme(axis.text = element_text(size = 13, color=&quot;darkblue&quot;))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-35" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>熱點圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-19-1.png" alt="plot of chunk unnamed-chunk-19"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-36" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>heatmap 排序</h2>
  </hgroup>
  <article data-timings="">
    <h3>當heatmap的x軸或y軸為類別變數時，可以經由階層分群法 (hierarchical clustering) 做行或列的排序。</h3>

<ul>
<li>首先我們需要一個 場站對時間 (sna ~ hour) 的有車率 (rate.sbi) 矩陣 (<code>dcast</code>)</li>
<li>使用階層分群演算法 (<code>hclust</code>)</li>
<li>畫出分群樹狀圖 (<code>ggdendrogram</code>)</li>
<li>取得排序 (<code>order</code>)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-37" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>heatmap 排序</h2>
  </hgroup>
  <article data-timings="">
    <p>Hint: <code>library(reshape2)</code>, <code>library(ggdendro)</code> </p>

<pre><code class="r">dat &lt;- dcast(df6, sna~hour, value.var=&quot;rate.sbi&quot;)
rownames(dat) &lt;- dat[,1]
dat &lt;- dat[,-1]
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-38" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>heatmap 排序</h2>
  </hgroup>
  <article data-timings="">
    <table>
 <thead>
  <tr>
   <th style="text-align:left;">   </th>
   <th style="text-align:right;"> 7 </th>
   <th style="text-align:right;"> 8 </th>
   <th style="text-align:right;"> 9 </th>
   <th style="text-align:right;"> 10 </th>
   <th style="text-align:right;"> 11 </th>
   <th style="text-align:right;"> 12 </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:left;"> 捷運市政府站(3號出口) </td>
   <td style="text-align:right;"> 0.629 </td>
   <td style="text-align:right;"> 0.602 </td>
   <td style="text-align:right;"> 0.539 </td>
   <td style="text-align:right;"> 0.480 </td>
   <td style="text-align:right;"> 0.461 </td>
   <td style="text-align:right;"> 0.447 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 捷運永春站(2號出口) </td>
   <td style="text-align:right;"> 0.287 </td>
   <td style="text-align:right;"> 0.421 </td>
   <td style="text-align:right;"> 0.299 </td>
   <td style="text-align:right;"> 0.146 </td>
   <td style="text-align:right;"> 0.134 </td>
   <td style="text-align:right;"> 0.191 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 仁愛逸仙路口 </td>
   <td style="text-align:right;"> 0.196 </td>
   <td style="text-align:right;"> 0.130 </td>
   <td style="text-align:right;"> 0.083 </td>
   <td style="text-align:right;"> 0.117 </td>
   <td style="text-align:right;"> 0.086 </td>
   <td style="text-align:right;"> 0.151 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 世貿二館 </td>
   <td style="text-align:right;"> 0.116 </td>
   <td style="text-align:right;"> 0.203 </td>
   <td style="text-align:right;"> 0.492 </td>
   <td style="text-align:right;"> 0.601 </td>
   <td style="text-align:right;"> 0.836 </td>
   <td style="text-align:right;"> 0.814 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 世貿三館 </td>
   <td style="text-align:right;"> 0.087 </td>
   <td style="text-align:right;"> 0.210 </td>
   <td style="text-align:right;"> 0.343 </td>
   <td style="text-align:right;"> 0.514 </td>
   <td style="text-align:right;"> 0.585 </td>
   <td style="text-align:right;"> 0.546 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 市民廣場 </td>
   <td style="text-align:right;"> 0.159 </td>
   <td style="text-align:right;"> 0.199 </td>
   <td style="text-align:right;"> 0.311 </td>
   <td style="text-align:right;"> 0.504 </td>
   <td style="text-align:right;"> 0.632 </td>
   <td style="text-align:right;"> 0.602 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 松德公園 </td>
   <td style="text-align:right;"> 0.202 </td>
   <td style="text-align:right;"> 0.139 </td>
   <td style="text-align:right;"> 0.073 </td>
   <td style="text-align:right;"> 0.078 </td>
   <td style="text-align:right;"> 0.044 </td>
   <td style="text-align:right;"> 0.040 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 台北市政府 </td>
   <td style="text-align:right;"> 0.172 </td>
   <td style="text-align:right;"> 0.218 </td>
   <td style="text-align:right;"> 0.315 </td>
   <td style="text-align:right;"> 0.455 </td>
   <td style="text-align:right;"> 0.611 </td>
   <td style="text-align:right;"> 0.711 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 興雅國中 </td>
   <td style="text-align:right;"> 0.153 </td>
   <td style="text-align:right;"> 0.261 </td>
   <td style="text-align:right;"> 0.418 </td>
   <td style="text-align:right;"> 0.597 </td>
   <td style="text-align:right;"> 0.690 </td>
   <td style="text-align:right;"> 0.764 </td>
  </tr>
  <tr>
   <td style="text-align:left;"> 永吉松信路口 </td>
   <td style="text-align:right;"> 0.371 </td>
   <td style="text-align:right;"> 0.304 </td>
   <td style="text-align:right;"> 0.141 </td>
   <td style="text-align:right;"> 0.051 </td>
   <td style="text-align:right;"> 0.032 </td>
   <td style="text-align:right;"> 0.035 </td>
  </tr>
</tbody>
</table>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-39" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>heatmap 排序</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">hc.sna &lt;- hclust(dist(dat))
ggdendrogram(hc.sna, rotate = TRUE) + thm() + labs(x=&quot;&quot;, y=&quot;&quot;)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-21-1.png" alt="plot of chunk unnamed-chunk-21"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="" id="slide-40" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>heatmap 排序</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r"># hc.sna$order
sna.order &lt;- data.frame(order=1:10, sna=hc.sna$labels[hc.sna$order])
kable(sna.order, format = &quot;html&quot;)
</code></pre>

<table>
 <thead>
  <tr>
   <th style="text-align:right;"> order </th>
   <th style="text-align:left;"> sna </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:right;"> 1 </td>
   <td style="text-align:left;"> 仁愛逸仙路口 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 2 </td>
   <td style="text-align:left;"> 永吉松信路口 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 3 </td>
   <td style="text-align:left;"> 捷運永春站(2號出口) </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 4 </td>
   <td style="text-align:left;"> 松德公園 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 5 </td>
   <td style="text-align:left;"> 捷運市政府站(3號出口) </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 6 </td>
   <td style="text-align:left;"> 世貿二館 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 7 </td>
   <td style="text-align:left;"> 市民廣場 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 8 </td>
   <td style="text-align:left;"> 世貿三館 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 9 </td>
   <td style="text-align:left;"> 台北市政府 </td>
  </tr>
  <tr>
   <td style="text-align:right;"> 10 </td>
   <td style="text-align:left;"> 興雅國中 </td>
  </tr>
</tbody>
</table>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-41" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>heatmap 排序</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">df7 &lt;- df6
df7$sna &lt;- factor(df7$sna, levels=(sna.order[,2]))
ggplot(df7, aes(x=hour, y=sna, fill=rate.sbi)) + geom_tile() + thm() + 
  theme(legend.position=&quot;bottom&quot;) + 
  scale_fill_gradient(name=&quot;有車率&quot;, low=&quot;white&quot;, high=&quot;lawngreen&quot;) + 
  labs(x=&quot;時間&quot;, y=&quot;&quot;) +
  theme(axis.text = element_text(size = 13, color=&quot;darkgreen&quot;))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-42" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>heatmap 排序</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-24-1.png" alt="plot of chunk unnamed-chunk-24"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-43" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>對時間做排序</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">hc.hour &lt;- hclust(dist(t(dat)))
ggdendrogram(hc.hour) + thm() + labs(x=&quot;&quot;, y=&quot;&quot;)
</code></pre>

<p><img src="assets/fig/cluster-heatmap-3-1.png" alt="plot of chunk cluster-heatmap-3"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-44" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>對時間做排序</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">hour.order &lt;- data.frame(order=1:24, sna=hc.hour$labels[hc.hour$order])
df7$hour &lt;- factor(df7$hour, levels=(hour.order[,2]))
ggplot(df7, aes(x=hour, y=sna, fill=rate.sbi)) + geom_tile() + thm()+ 
  theme(legend.position=&quot;bottom&quot;) + 
  scale_fill_gradient(name=&quot;有車率&quot;, low=&quot;white&quot;, high=&quot;lawngreen&quot;) + 
  labs(x=&quot;時間&quot;, y=&quot;&quot;) +
  theme(axis.text = element_text(size = 13, color=&quot;darkgreen&quot;))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-45" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>對時間做排序</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-26-1.png" alt="plot of chunk unnamed-chunk-26"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-46" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>試著對 使用率 進行排序</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">dat &lt;- dcast(df6, sna~hour, value.var=&quot;rate.used&quot;)
rownames(dat) &lt;- dat[,1]
dat &lt;- dat[,-1]
hc.sna &lt;- hclust(dist(dat))
hc.hour &lt;- hclust(dist(t(dat)))
df8 &lt;- df6
df8$sna &lt;- factor(df8$sna, levels = hc.sna$labels[hc.sna$order])
df8$hour &lt;- factor(df8$hour, levels = hc.hour$labels[hc.hour$order])
ggplot(df8, aes(x=hour, y=sna, fill=rate.used)) + geom_tile() + thm()+ 
  theme(legend.position=&quot;bottom&quot;) + 
  scale_fill_gradient(name=&quot;使用率&quot;, low=&quot;white&quot;, high=&quot;Navy&quot;) + 
  labs(x=&quot;時間&quot;, y=&quot;&quot;) +
  theme(axis.text = element_text(size = 13, color=&quot;darkblue&quot;))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-47" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>試著對 使用率 進行排序</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-27-1.png" alt="plot of chunk unnamed-chunk-27"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-48" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>平行座標圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <h3>平行座標圖常用來展示不同群組在諸多變數間的差異性，當群組分類方式未知時，可以利用機器學習 (machine learning) 中的非監督式學習 (unsupervised learning)，幫資料做分群。分群之後再藉由平行座標圖來呈現資料的脈絡。</h3>

<ul>
<li>選擇 平日, 晴天, 7-21時鄰近市府站的資料進行分析</li>
<li>以場站大小 (<code>tot</code>)、有車率 (<code>rate.sbi</code>)、使用率 (<code>rate.used</code>) 三個變數做分群</li>
<li>使用K-means演算法分3群</li>
<li>將分群結果視作新的變數畫平行座標圖</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-49" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>平行座標圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">tmp2 &lt;- filter(tmp1, is.weekday==&quot;平日&quot;, is.rain==&quot;晴天&quot;, hour&gt;6 &amp; hour&lt;22) %&gt;%
  group_by(sno, sna, tot) %&gt;%
  summarise(rate.sbi=mean(rate.sbi), rate.used=mean(rate.used))
km &lt;- kmeans(tmp2[,3:5], 3)
km
</code></pre>

<pre><code>K-means clustering with 3 clusters of sizes 4, 1, 5

Cluster means:
    tot  rate.sbi rate.used
1  65.0 0.3761128 0.1867222
2 180.0 0.2840504 0.1123704
3  35.2 0.2137039 0.2520515

Clustering vector:
 [1] 2 3 1 1 1 1 3 3 3 3

Within cluster sum of squares by cluster:
[1] 300.00679   0.00000  92.84539
 (between_SS / total_SS =  97.8 %)

Available components:

[1] &quot;cluster&quot;      &quot;centers&quot;      &quot;totss&quot;        &quot;withinss&quot;    
[5] &quot;tot.withinss&quot; &quot;betweenss&quot;    &quot;size&quot;         &quot;iter&quot;        
[9] &quot;ifault&quot;      
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-50" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>平行座標圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">df9 &lt;- group_by(tmp2) %&gt;% 
  transmute(sna, tot, rate.sbi, rate.used,
            group=factor(km$cluster))  %&gt;% 
  arrange(group)

ggparcoord(as.data.frame(df9), columns = c(1,2,3,4), groupColumn = 5,
           scale=&quot;uniminmax&quot;) + 
  geom_line(size=1) + thm() + theme(legend.title=element_blank()) +
  scale_x_discrete(labels=c(&quot;場站&quot;,&quot;總停車格&quot;,&quot;有車率&quot;,&quot;使用率&quot;)) +
  labs(x=&quot;&quot;, y=&quot;&quot;)
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-51" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>平行座標圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-29-1.png" alt="plot of chunk unnamed-chunk-29"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-52" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>平行座標圖進階應用</h2>
  </hgroup>
  <article data-timings="">
    <table>
 <thead>
  <tr>
   <th style="text-align:center;"> sna </th>
   <th style="text-align:center;"> tot </th>
   <th style="text-align:center;"> rate.sbi </th>
   <th style="text-align:center;"> rate.used </th>
   <th style="text-align:center;"> group </th>
  </tr>
 </thead>
<tbody>
  <tr>
   <td style="text-align:center;"> 市民廣場 </td>
   <td style="text-align:center;"> 60 </td>
   <td style="text-align:center;"> 0.388 </td>
   <td style="text-align:center;"> 0.153 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 興雅國中 </td>
   <td style="text-align:center;"> 60 </td>
   <td style="text-align:center;"> 0.378 </td>
   <td style="text-align:center;"> 0.166 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 世貿二館 </td>
   <td style="text-align:center;"> 80 </td>
   <td style="text-align:center;"> 0.398 </td>
   <td style="text-align:center;"> 0.244 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 世貿三館 </td>
   <td style="text-align:center;"> 60 </td>
   <td style="text-align:center;"> 0.340 </td>
   <td style="text-align:center;"> 0.184 </td>
   <td style="text-align:center;"> 1 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 捷運市政府站(3號出口) </td>
   <td style="text-align:center;"> 180 </td>
   <td style="text-align:center;"> 0.284 </td>
   <td style="text-align:center;"> 0.112 </td>
   <td style="text-align:center;"> 2 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 台北市政府 </td>
   <td style="text-align:center;"> 40 </td>
   <td style="text-align:center;"> 0.350 </td>
   <td style="text-align:center;"> 0.256 </td>
   <td style="text-align:center;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 永吉松信路口 </td>
   <td style="text-align:center;"> 30 </td>
   <td style="text-align:center;"> 0.205 </td>
   <td style="text-align:center;"> 0.284 </td>
   <td style="text-align:center;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 仁愛逸仙路口 </td>
   <td style="text-align:center;"> 38 </td>
   <td style="text-align:center;"> 0.168 </td>
   <td style="text-align:center;"> 0.202 </td>
   <td style="text-align:center;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 捷運永春站(2號出口) </td>
   <td style="text-align:center;"> 30 </td>
   <td style="text-align:center;"> 0.221 </td>
   <td style="text-align:center;"> 0.340 </td>
   <td style="text-align:center;"> 3 </td>
  </tr>
  <tr>
   <td style="text-align:center;"> 松德公園 </td>
   <td style="text-align:center;"> 38 </td>
   <td style="text-align:center;"> 0.125 </td>
   <td style="text-align:center;"> 0.178 </td>
   <td style="text-align:center;"> 3 </td>
  </tr>
</tbody>
</table>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="dark segue" id="slide-53" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>小明想要玩遙控飛機</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-54" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>地圖應用練習</h2>
  </hgroup>
  <article data-timings="">
    <h3>小明喜歡玩遙控飛機，想利用週末玩，在中和希望找一個風比較小的地點，請幫他在地圖上圈出每個腳踏車站的位置，並且以圓圈大小表示下午3點的風速，透明度表示濕度，顏色表示腳踏車平均車數。</h3>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-55" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <article data-timings="">
    <p><img src="assets/fig/unnamed-chunk-31-1.png" alt="plot of chunk unnamed-chunk-31"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-56" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <article data-timings="">
    <pre><code class="r">ubike3&lt;- filter(ubike,sarea==&#39;中和區&#39;, hour==15) %&gt;%
  mutate(weekday=weekdays(as.Date(date))) %&gt;%
  filter(weekday==&quot;周六&quot;|weekday==&quot;周日&quot;) %&gt;%
  group_by(sna) %&gt;%
  summarise(avg_wind=mean(max.anemo),avg_sbi=mean(avg.sbi),
            avg_hu=mean(humidity),lng=unique(lng),lat=unique(lat))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-57" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <article data-timings="">
    <pre><code class="r"># 讀取中和區的地圖，以中和區的第一筆資料的經緯度為中心
m &lt;- get_map(location=c(lon=ubike3$lng[1], lat=ubike3$lat[1]),
           maptype = &quot;roadmap&quot;, zoom = 14)

# ggmap(m)畫出地圖，並以此為底圖，在地圖上以geom_point畫出圓圈
ggmap(m)+
  geom_point(data=ubike3, 
             aes(x=lng, y=lat, size=avg_wind, alpha=avg_hu, color=avg_sbi))+
  scale_size(range = c(5,20))+
  scale_alpha(range = c(0.5,1))+
  geom_text(data=ubike3,aes(x=lng,y=lat,label=sna),color=&#39;red&#39;,vjust=c(-1,1,1,0),
            hjust=0,fontface=2,family = &quot;STHeiti&quot;)+
  theme(text=element_text(size=20))
</code></pre>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-58" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>參數解釋</h2>
  </hgroup>
  <article data-timings="">
    <pre><code>aes(x=lng, y=lat, size=avg_wind, alpha=avg_hu, color=avg_sbi)
</code></pre>

<ul>
<li>X和Y為經緯度</li>
<li>size以avg_wind為依據</li>
<li>alpha以avg_hu為依據</li>
<li>color以avg_sbi</li>
<li>fill為填滿空間的顏色</li>
<li>shape控制點的形狀</li>
<li>參數放在aes外的話，必須直接填入數值 (exp: size=5)</li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-59" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>參數解釋</h2>
  </hgroup>
  <article data-timings="">
    <ul>
<li>scale_XXX控制各項參數的範圍</li>
<li>geom_text

<ul>
<li>將站名顯示於地圖上</li>
<li>vjust與hjust分別控制垂直與水平方向的微調</li>
<li>facebold: 

<ul>
<li>字型樣式</li>
<li>1代表標準</li>
<li>2代表粗體</li>
<li>3代表斜體</li>
<li>4代表斜粗體</li>
</ul></li>
</ul></li>
</ul>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="largecontent" id="slide-60" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>可能會用到的小撇步</h2>
  </hgroup>
  <article data-timings="">
    <pre><code class="r">nankang &lt;- geocode(&#39;南港軟體園區&#39;, source = &quot;google&quot;)
# nankang &lt;- geocode(URLencode(&#39;南港軟體園區&#39;), source = &quot;google&quot;)
nan_map &lt;- get_map(location=c(lon=nankang$lon,lat=nankang$lat), 
                   zoom=15, maptype = &#39;roadmap&#39;, source = &#39;osm&#39;)
ggmap(nan_map)
</code></pre>

<p><img src="assets/fig/unnamed-chunk-34-1.png" alt="plot of chunk unnamed-chunk-34"> </p>

  </article>
  <!-- Presenter Notes -->
</slide>
<slide class="dark segue" id="slide-61" style="background-image: url('libraries/frameworks/io2012-dsp/images/dsp-page-white1100.jpg'); background-repeat:no-repeat; background-position:center; background-size: 100% 100%;">
  <hgroup>
    <h2>Team Project</h2>
  </hgroup>
  <article data-timings="">
    
  </article>
  <!-- Presenter Notes -->
</slide>
    <slide class="backdrop"></slide>
  </slides>
  <div class="pagination pagination-small" id='io2012-ptoc' style="display:none;">
    <ul>
      <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=1 title='先載入會用到的套件'>
         1
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=2 title='一切先從讀檔開始'>
         2
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=3 title='訂定主題'>
         3
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=4 title='探索性資料分析 — 以YouBike為例'>
         4
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=5 title='規劃流程：'>
         5
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=6 title='整理一下資料'>
         6
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=7 title='市府站車輛數基本數據'>
         7
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=8 title='市府站車輛數基本數據'>
         8
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=9 title='場站有車率與晴雨關係'>
         9
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=10 title='NA'>
         10
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=11 title='長條圖範例'>
         11
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=12 title='Dodge Plot'>
         12
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=13 title='Dodge Plot'>
         13
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=14 title='Facet panels'>
         14
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=15 title='Facet panels'>
         15
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=16 title='Facet panels'>
         16
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=17 title='Facet panels'>
         17
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=18 title='Pyramid'>
         18
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=19 title='Pyramid'>
         19
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=20 title='熱點圖'>
         20
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=21 title='熱點圖'>
         21
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=22 title='平行座標圖'>
         22
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=23 title='平行座標圖'>
         23
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=24 title='與鄰近場站的關係'>
         24
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=25 title='與鄰近場站的關係'>
         25
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=26 title='與鄰近場站的關係'>
         26
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=27 title='地圖應用範例'>
         27
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=28 title='地圖應用範例'>
         28
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=29 title='熱點圖進階應用'>
         29
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=30 title='熱點圖進階應用'>
         30
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=31 title='熱點圖進階應用'>
         31
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=32 title='熱點圖進階應用'>
         32
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=33 title='熱點圖進階應用'>
         33
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=34 title='熱點圖進階應用'>
         34
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=35 title='熱點圖進階應用'>
         35
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=36 title='heatmap 排序'>
         36
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=37 title='heatmap 排序'>
         37
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=38 title='heatmap 排序'>
         38
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=39 title='heatmap 排序'>
         39
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=40 title='heatmap 排序'>
         40
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=41 title='heatmap 排序'>
         41
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=42 title='heatmap 排序'>
         42
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=43 title='對時間做排序'>
         43
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=44 title='對時間做排序'>
         44
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=45 title='對時間做排序'>
         45
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=46 title='試著對 使用率 進行排序'>
         46
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=47 title='試著對 使用率 進行排序'>
         47
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=48 title='平行座標圖進階應用'>
         48
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=49 title='平行座標圖進階應用'>
         49
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=50 title='平行座標圖進階應用'>
         50
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=51 title='平行座標圖進階應用'>
         51
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=52 title='平行座標圖進階應用'>
         52
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=53 title='小明想要玩遙控飛機'>
         53
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=54 title='地圖應用練習'>
         54
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=55 title='NA'>
         55
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=56 title='NA'>
         56
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=57 title='NA'>
         57
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=58 title='參數解釋'>
         58
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=59 title='參數解釋'>
         59
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=60 title='可能會用到的小撇步'>
         60
      </a>
    </li>
    <li>
      <a href="#" target="_self" rel='tooltip' 
        data-slide=61 title='Team Project'>
         61
      </a>
    </li>
  </ul>
  </div>  <!--[if IE]>
    <script 
      src="http://ajax.googleapis.com/ajax/libs/chrome-frame/1/CFInstall.min.js">  
    </script>
    <script>CFInstall.check({mode: 'overlay'});</script>
  <![endif]-->
</body>
  <!-- Load Javascripts for Widgets -->
  
  <!-- MathJax: Fall back to local if CDN offline but local image fonts are not supported (saves >100MB) -->
  <script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        inlineMath: [['$','$'], ['\\(','\\)']],
        processEscapes: true
      }
    });
  </script>
  <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
  <!-- <script src="https://c328740.ssl.cf1.rackcdn.com/mathjax/2.0-latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
  </script> -->
  <script>window.MathJax || document.write('<script type="text/x-mathjax-config">MathJax.Hub.Config({"HTML-CSS":{imageFont:null}});<\/script><script src="libraries/widgets/mathjax/MathJax.js?config=TeX-AMS-MML_HTMLorMML"><\/script>')
</script>
<!-- LOAD HIGHLIGHTER JS FILES -->
  <script src="libraries/highlighters/highlight.js/highlight.pack.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <!-- DONE LOADING HIGHLIGHTER JS FILES -->
   
  </html>